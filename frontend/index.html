<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>JLPT API - Docs</title>
    <style>
        body {
            font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica, Arial, sans-serif;
            line-height: 1.6;
            background-color: #f9f9f9;
            color: #333;
            margin: 0;
            padding: 20px;
        }
        .container {
            max-width: 900px;
            margin: 0 auto;
            background-color: #ffffff;
            border: 1px solid #ddd;
            border-radius: 8px;
            padding: 20px 40px;
            margin-bottom: 30px;
        }
        h1, h2 {
            border-bottom: 2px solid #eee;
            padding-bottom: 10px;
        }
        h1 {
            color: #2c3e50;
        }
        h2 {
            color: #34495e;
            margin-top: 40px;
        }
        h3 {
            color: #555;
            margin-top: 30px;
        }
        pre {
            background-color: #2d2d2d;
            color: #f1f1f1;
            padding: 15px;
            border-radius: 5px;
            overflow-x: auto;
        }
        code {
            font-family: "SFMono-Regular", Consolas, "Liberation Mono", Menlo, Courier, monospace;
            font-size: 0.95em;
        }
        .url {
            background-color: #eef;
            border: 1px solid #cce;
            color: #303099;
            padding: 3px 6px;
            border-radius: 4px;
            font-weight: 600;
        }
        .badge {
            display: inline-block;
            padding: 4px 10px;
            border-radius: 4px;
            font-weight: 700;
            font-size: 0.9em;
            color: white;
            margin-right: 10px;
        }
        .badge.get { background-color: #3498db; }
        .badge.status-ok { background-color: #27ae60; }
        .badge.status-err { background-color: #e74c3c; }
        footer {
            text-align: center;
            padding: 20px;
            font-size: 0.9em;
            color: #777;
        }
        footer a {
            color: #3498db;
            text-decoration: none;
        }
        footer a:hover {
            text-decoration: underline;
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>JLPT API</h1>
        <p>A simple read-only API for retrieving JLPT grammar, vocabulary and kanji.</p>

        <h3>Base URL</h3>
        <p>Depending on where you are accessing the API:</p>
        <ul>
            <li><strong>Local development:</strong> <code class="url">http://localhost:5000</code></li>
            <li><strong>Deployed on Vercel:</strong> <code class="url">https://jlpt-grammar-api.vercel.app</code></li>
        </ul>
        <p>All endpoints are relative to the base URL.</p>

        <h2>Grammar Endpoints</h2>

        <div class="endpoint">
            <h3>Get All Grammar by Level</h3>
            <p>
                <span class="badge get">GET</span>
                <code class="url">/api/grammar/:level</code>
            </p>
            <p>Retrieves a JSON array of all grammar points. Supported levels: <strong>N5, N4</strong>.</p>
            <h4>URL Parameters</h4>
            <ul>
                <li><code>:level</code> (string) - <strong>Required</strong>. (e.g., <code>N5</code>, <code>N4</code>).</li>
            </ul>
            <h4>✅ Success Response (200 OK)</h4>
            <pre><code>[{
  "id": 1,
  "grammar_point": "ちゃいけない・じゃいけない",
  "romaji": "cha ikenai / ja ikenai",
  // ...
}]</code></pre>
            <h4>❌ Error Response (404 Not Found)</h4>
            <pre><code>{
  "message": "Error fetching data for level N3. Level not found or is empty."
}</code></pre>
        </div>

        <div class="endpoint">
            <h3>Get Single Grammar by ID</h3>
            <p>
                <span class="badge get">GET</span>
                <code class="url">/api/grammar/:level/:id</code>
            </p>
            <p>Retrieves a single grammar point object by its <code>:level</code> and <code>:id</code>.</p>
            <h4>URL Parameters</h4>
            <ul>
                <li><code>:level</code> (string) - <strong>Required</strong>. (e.g., <code>N5</code>, <code>N4</code>).</li>
                <li><code>:id</code> (integer) - <strong>Required</strong>. The ID of the grammar point.</li>
            </ul>
            <h4>✅ Success Response (200 OK)</h4>
            <pre><code>{
  "id": 15,
  "grammar_point": "ほうがいい",
  "romaji": "hou ga ii",
  // ...
}</code></pre>
            <h4>❌ Error Response (404 Not Found)</h4>
            <pre><code>{
  "message": "Grammar point not found in N4"
}</code></pre>
        </div>

        <h2>Vocabulary Endpoints</h2>

        <div class="endpoint">
            <h3>Get All Vocabulary by Level</h3>
            <p>
                <span class="badge get">GET</span>
                <code class="url">/api/vocabulary/:level</code>
            </p>
            <p>Retrieves a JSON array of all vocabulary words. Supported levels: <strong>N5, N4</strong>.</p>
            <h4>URL Parameters</h4>
            <ul>
                <li><code>:level</code> (string) - <strong>Required</strong>. (e.g., <code>N5</code>, <code>N4</code>).</li>
            </ul>
            <h4>✅ Success Response (200 OK)</h4>
            <pre><code>[{
  "id": 1,
  "word": "浴びる",
  "romaji_reading": "abiru あびる",
  "pos": "Verb, Ichidan verb, Transitive verb",
  "meaning": "to bathe, to shower",
  "level": 5
}]</code></pre>
            <h4>❌ Error Response (404 Not Found)</h4>
            <pre><code>{
  "message": "Error fetching data for level N3. Level not found or is empty."
}</code></pre>
        </div>

        <div class="endpoint">
            <h3>Get Single Vocabulary by ID</h3>
            <p>
                <span class="badge get">GET</span>
                <code class="url">/api/vocabulary/:level/:id</code>
            </p>
            <p>Retrieves a single vocabulary object by its <code>:level</code> and <code>:id</code>.</p>
            <h4>URL Parameters</h4>
            <ul>
                <li><code>:level</code> (string) - <strong>Required</strong>. (e.g., <code>N5</code>, <code>N4</code>).</li>
                <li><code>:id</code> (integer) - <strong>Required</strong>. The ID of the vocabulary word.</li>
            </ul>
            <h4>✅ Success Response (200 OK)</h4>
            <pre><code>{
  "id": 2,
  "word": "危ない",
  "romaji_reading": "abunai あぶない",
  "pos": "Adjective, い-adjective",
  "meaning": "dangerous",
  "level": 5
}</code></pre>
            <h4>❌ Error Response (404 Not Found)</h4>
            <pre><code>{
  "message": "Vocabulary word not found in N4"
}</code></pre>
        </div>

    </div>

    <footer>
        Made by 
        <a href="https://x.com/Sigmabond01" target="_blank">@Sigmabond01 on X (Twitter)</a> &amp;
        <a href="https://github.com/Sigmabond01" target="_blank">@Sigmabond01 on GitHub</a>
        <br>
        <a href="https://github.com/Sigmabond01/jlpt-grammar-api" target="_blank">View the Repo</a>
    </footer>

</body>
</html>